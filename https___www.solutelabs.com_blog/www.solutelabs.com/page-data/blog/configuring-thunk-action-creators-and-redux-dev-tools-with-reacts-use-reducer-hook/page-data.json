{"componentChunkName":"component---src-components-blogs-blog-detail-js","path":"/blog/configuring-thunk-action-creators-and-redux-dev-tools-with-reacts-use-reducer-hook","result":{"pageContext":{"post":{"id":"a5d7e86a-4c85-5ed3-8305-57595b06f0fb","title":"Configuring thunk action creators and redux dev-tools with React’s use Reducer hook.","excerpt":"Configuring Redux thunk action creators and Redux dev-tools with React’s use Reducer hook. Find out why it's necessary & the steps to async actions.","_rawBody":[{"_key":"496f7a3739db","_type":"block","children":[{"_key":"496f7a3739db0","_type":"span","marks":[],"text":"When does someone choose to put a state in redux?"}],"markDefs":[],"style":"normal"},{"_key":"7d0f684e2be3","_type":"block","children":[{"_key":"7d0f684e2be30","_type":"span","marks":[],"text":"To avoid props drilling."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"78e5bf30bf8c","_type":"block","children":[{"_key":"78e5bf30bf8c0","_type":"span","marks":[],"text":"To use the redux state as a cache between mount/unmount."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"4b18c3ad28cb","_type":"block","children":[{"_key":"4b18c3ad28cb0","_type":"span","marks":[],"text":"To avoid refactoring at a later stage when a new component asks for the same state."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"e989d8c9ef27","_type":"block","children":[{"_key":"e989d8c9ef270","_type":"span","marks":[],"text":"Some folks dislike the idea to keep API calls inside the component."}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"58f935a58f17","_type":"block","children":[{"_key":"58f935a58f170","_type":"span","marks":[],"text":"Awesome debugging tool. At least here you can time travel.\n"}],"level":1,"listItem":"number","markDefs":[],"style":"normal"},{"_key":"aa29644f883d","_type":"customImage","alt":"No spoilers ahead :D","asset":{"_ref":"image-43377de44101216561d36fdf839de22853c48d9c-500x211-gif","_type":"reference"},"imageFigcaptionName":"No spoilers ahead :D"},{"_key":"a0d945a0d461","_type":"block","children":[{"_key":"a0d945a0d4610","_type":"span","marks":[],"text":"There could be more than 5 points, but these are the ones I found most essential."}],"markDefs":[],"style":"normal"},{"_key":"55d58f2c6219","_type":"block","children":[{"_key":"55d58f2c62190","_type":"span","marks":[],"text":"BUT, when you don’t need 1, 2 and 3 it creates a very small and familiar problem."}],"markDefs":[],"style":"normal"},{"_key":"cd4a45bdc931","_type":"block","children":[{"_key":"cd4a45bdc9310","_type":"span","marks":["strong"],"text":"My favorite one:"}],"markDefs":[],"style":"normal"},{"_key":"31b58ee8cd50","_type":"block","children":[{"_key":"31b58ee8cd500","_type":"span","marks":[],"text":"Why are the filters not resetting when I move out of the screen."}],"markDefs":[],"style":"blockquote"},{"_key":"cb9f0e5bc17e","_type":"block","children":[{"_key":"cb9f0e5bc17e0","_type":"span","marks":[],"text":"componentWillUnmount() {\ndispatch({type: \"RESET\"});\n}"}],"markDefs":[],"style":"normal"},{"_key":"1a47a7a4cacb","_type":"block","children":[{"_key":"1a47a7a4cacb0","_type":"span","marks":[],"text":"What if we can keep the state in component and still get 3, 4 and 5. :D"}],"markDefs":[],"style":"normal"},{"_key":"703a2919eab9","_type":"block","children":[{"_key":"703a2919eab90","_type":"span","marks":[],"text":"Solving 4 will automatically solve 3 as long as you are using React redux "},{"_key":"703a2919eab91","_type":"span","marks":["6b01cf082244"],"text":"thunk"},{"_key":"703a2919eab92","_type":"span","marks":[],"text":"."}],"markDefs":[{"_key":"6b01cf082244","_type":"link","href":"https://daveceddia.com/what-is-a-thunk/"}],"style":"normal"},{"_key":"b1153f1f6976","_type":"block","children":[{"_key":"b1153f1f69760","_type":"span","marks":[],"text":"First, let’s get the 4th i.e. Async actions."}],"markDefs":[],"style":"blockquote"},{"_key":"c2d0de9b2fc0","_type":"block","children":[{"_key":"c2d0de9b2fc00","_type":"span","marks":[],"text":"1. Creating a custom React useReducer hook."}],"markDefs":[],"style":"h2"},{"_key":"8b3b2b4af7d9","_type":"block","children":[{"_key":"8b3b2b4af7d90","_type":"span","marks":["em"],"text":"import"},{"_key":"8b3b2b4af7d91","_type":"span","marks":[],"text":" { useReducer } "},{"_key":"8b3b2b4af7d92","_type":"span","marks":["em"],"text":"from"},{"_key":"8b3b2b4af7d93","_type":"span","marks":[],"text":" 'react'function useReducerWithThunk(reducer, initialState) {\nconst["},{"_key":"8b3b2b4af7d94","_type":"span","marks":["em"],"text":"state"},{"_key":"8b3b2b4af7d95","_type":"span","marks":[],"text":","},{"_key":"8b3b2b4af7d96","_type":"span","marks":["em"],"text":" dispatch"},{"_key":"8b3b2b4af7d97","_type":"span","marks":[],"text":"]=useReducer(reducer,initialState);letcustomDispatch=("},{"_key":"8b3b2b4af7d98","_type":"span","marks":["em"],"text":"action"},{"_key":"8b3b2b4af7d99","_type":"span","marks":[],"text":")=>{\nif (typeofaction==='function') {\naction(customDispatch);\n} else {\ndispatch(action);\n}\n};"},{"_key":"8b3b2b4af7d910","_type":"span","marks":["em"],"text":"return"},{"_key":"8b3b2b4af7d911","_type":"span","marks":[],"text":" [state, customDispatch];\n}"}],"markDefs":[],"style":"normal"},{"_key":"ad5243835493","_type":"block","children":[{"_key":"ad52438354930","_type":"span","marks":[],"text":"2. Using the above useReducer hook."}],"markDefs":[],"style":"h2"},{"_key":"9f5e230fd039","_type":"block","children":[{"_key":"9f5e230fd0390","_type":"span","marks":[],"text":"import useReducerWithThunk from \"./useReducerWithThunk\";// Async action creator\nconst fetchData = () => async (dispatch) => {\ndispatch({ type:\"FETCH\" });\n}export default function App() {\nconst["},{"_key":"9f5e230fd0391","_type":"span","marks":["em"],"text":"count"},{"_key":"9f5e230fd0392","_type":"span","marks":[],"text":","},{"_key":"9f5e230fd0393","_type":"span","marks":["em"],"text":" dispatch"},{"_key":"9f5e230fd0394","_type":"span","marks":[],"text":"]=useReducerWithThunk(reducer,0);\n\nfunction fetchData() {\ndispatch(fetchData());\n}\n\nreturn <button onClick={fetchData}>Get Data!</button>\n}"}],"markDefs":[],"style":"normal"},{"_key":"855a15ba5b6e","_type":"block","children":[{"_key":"855a15ba5b6e0","_type":"span","marks":[],"text":"Done, that’s all you need to dispatch a function instead of an object. :D"}],"markDefs":[],"style":"normal"},{"_key":"ba6b6668c0f2","_type":"block","children":[{"_key":"ba6b6668c0f20","_type":"span","marks":[],"text":"Now, let’s knock down the 5th i.e Awesome Redux Devtools support."}],"markDefs":[],"style":"blockquote"},{"_key":"041b2f8cc73f","_type":"block","children":[{"_key":"041b2f8cc73f0","_type":"span","marks":[],"text":"Before that, we need to consider the below points."}],"markDefs":[],"style":"h3"},{"_key":"4a2bcb5acaca","_type":"block","children":[{"_key":"4a2bcb5acaca0","_type":"span","marks":[],"text":"Devtools should support redux’s store along with React userReducer’s."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"d35350cc07a8","_type":"block","children":[{"_key":"d35350cc07a80","_type":"span","marks":[],"text":"The useReducer is completely isolated and we can’t combine them to create a rootReducer which is what we are trying to avoid."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"85ec283c6f2c","_type":"block","children":[{"_key":"85ec283c6f2c0","_type":"span","marks":[],"text":"But, we can create a separate store for each useReducer in dev-tools and switch between them using the dropdown below."}],"level":1,"listItem":"bullet","markDefs":[],"style":"normal"},{"_key":"7d18860b00b1","_type":"customImage","alt":"Select instances","asset":{"_ref":"image-09a879abf1e68ddc1ab1cb1593f2132b584d3b57-712x205-png","_type":"reference"},"imageFigcaptionName":"Select instances"},{"_key":"3e2d638c0593","_type":"block","children":[{"_key":"3e2d638c05930","_type":"span","marks":[],"text":"Implementation:"}],"markDefs":[],"style":"h2"},{"_key":"152be481b55c","_type":"block","children":[{"_key":"152be481b55c0","_type":"span","marks":[],"text":"Devtools will only initialize if the name parameter is passed. See below."}],"markDefs":[],"style":"normal"},{"_key":"3441cb5707fd","_type":"block","children":[{"_key":"3441cb5707fd0","_type":"span","marks":[],"text":"Usage:"}],"markDefs":[],"style":"h2"},{"_key":"aa64ad967450","_type":"block","children":[{"_key":"aa64ad9674500","_type":"span","marks":[],"text":"The above useReducer — React redux hook can be used as below."}],"markDefs":[],"style":"normal"},{"_key":"1f360d61e715","_type":"block","children":[{"_key":"1f360d61e7150","_type":"span","marks":[],"text":"const["},{"_key":"1f360d61e7151","_type":"span","marks":["em"],"text":"count"},{"_key":"1f360d61e7152","_type":"span","marks":[],"text":","},{"_key":"1f360d61e7153","_type":"span","marks":["em"],"text":" dispatch"},{"_key":"1f360d61e7154","_type":"span","marks":[],"text":"]="},{"_key":"1f360d61e7155","_type":"span","marks":["em"],"text":" useReducerWithThunk"},{"_key":"1f360d61e7156","_type":"span","marks":[],"text":"(reducer,0, name // optional);"}],"markDefs":[],"style":"normal"},{"_key":"ea1657d70671","_type":"block","children":[{"_key":"ea1657d706710","_type":"span","marks":[],"text":"Result:"}],"markDefs":[],"style":"h2"},{"_key":"09a9d1f66542","_type":"block","children":[{"_key":"09a9d1f665420","_type":"span","marks":[],"text":"Here, a separate instance is created which can be switched using the dropdown."}],"markDefs":[],"style":"normal"},{"_key":"ae42d3ea350d","_type":"customImage","alt":"Fully functional redux dev tools using useReducer","asset":{"_ref":"image-99e3f301841d03613fcedb420c13337c5f518c3f-1229x691-png","_type":"reference"},"imageFigcaptionName":"Fully functional redux dev tools using useReducer"},{"_key":"a9f2d5772ebf","_type":"block","children":[{"_key":"a9f2d5772ebf0","_type":"span","marks":[],"text":"End Notes:"}],"markDefs":[],"style":"h3"},{"_key":"4f5bf94aa2d0","_type":"block","children":[{"_key":"4f5bf94aa2d00","_type":"span","marks":[],"text":"It would be much better if only a few complicated reducers are connected to Redux devtools or else the overhead involved in switching and finding the appropriate instance will exceed the benefits."}],"markDefs":[],"style":"normal"},{"_key":"485794366fb8","_type":"block","children":[{"_key":"485794366fb80","_type":"span","marks":[],"text":"But at least the reason of not able to use devtools should not prevent you from keeping the state local."}],"markDefs":[],"style":"normal"},{"_key":"38559894e42f","_type":"block","children":[{"_key":"38559894e42f0","_type":"span","marks":[],"text":"Thanks for taking the time to read this, I hope you find it useful."}],"markDefs":[],"style":"normal"},{"_key":"3fe04a0485b9","_type":"urllink","shortDescription":"Thunk like action creator support for react’s useReducer hook — Sunny-Nishan/use-reducer-thunk ","title":"Sunny-Nishan/use-reducer-thunk ","urlLink":"https://github.com/intergalacticspacehighway/use-reducer-thunk","urlLinkImage":{"_type":"customImage","asset":{"_ref":"image-6c8c40d5d4151fbc304bf1525d666c34a63741c2-290x200-png","_type":"reference"}}},{"_key":"62aff451a445","_type":"block","children":[{"_key":"62aff451a4450","_type":"span","marks":[],"text":"Reference:"}],"markDefs":[],"style":"h4"},{"_key":"6d341013789e","_type":"urllink","shortDescription":"Note that window.devToolsExtension has been renamed to window.__REDUX_DEVTOOLS_EXTENSION__.","title":"Redux DevTools without Redux ","urlLink":"https://medium.com/@zalmoxis/redux-devtools-without-redux-or-how-to-have-a-predictable-state-with-any-architecture-61c5f5a7716f","urlLinkImage":{"_type":"customImage","asset":{"_ref":"image-d4a7a46f20bf3b2dc3138f6a01dd0c1c8baddb8d-290x200-png","_type":"reference"}}},{"_key":"c73521da9ec9","_type":"urllink","shortDescription":"Managing state is arguably the hardest part of any application. It’s why there are so many state management libraries… ","title":"Application State Management with React ","urlLink":"https://kentcdodds.com/blog/application-state-management-with-react/","urlLinkImage":{"_type":"customImage","asset":{"_ref":"image-364d9d47f7617741a66443e1996ea2db1b45d190-290x200-png","_type":"reference"}}}],"_rawFaq":null,"publishedAt":"2019-05-08T12:00:00.000Z","_updatedAt":"2021-04-08T12:33:26Z","readingTime":"3 min read","altTagMainImage":null,"titleMetaData":null,"shortanchorlinkh2":[{"h2link":"1. Creating a custom React useReducer hook.","h2shorttext":"Custom React useReducer hook"},{"h2link":"2. Using the above useReducer hook.","h2shorttext":"useReducer hook"},{"h2link":"Implementation:","h2shorttext":"Implementation"},{"h2link":"Usage:","h2shorttext":"Usage"},{"h2link":"Result:","h2shorttext":"Result"}],"categories":[{"id":"61b2fbb3-23c5-54d6-aac3-bf8ba2dcecc3","title":"Blog"}],"mainImage":{"asset":{"id":"image-ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260-png","url":"https://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png","fluid":{"sizes":"(max-width: 800px) 100vw, 800px","src":"https://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png?w=800&h=450&fit=crop","srcSet":"https://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png?w=200&h=113&fit=crop 200w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png?w=400&h=225&fit=crop 400w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png?w=800&h=450&fit=crop 800w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png?w=1200&h=675&fit=crop 1200w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png?w=1600&h=900&fit=crop 1600w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/ff3dcdfaed52f229c5055610755ae3b5dbd3f002-2240x1260.png 2240w"}}},"author":{"id":"c814330d-ec61-563c-a923-c4582b1264c0","name":"Nishan Bende","myColor":{"hex":"#1641ff"},"image":{"asset":{"_id":"image-eebd9f53c5159a936fd5c7a9d744f6ae4c3d4326-288x288-png","assetId":"eebd9f53c5159a936fd5c7a9d744f6ae4c3d4326","_type":"sanity.imageAsset","id":"image-eebd9f53c5159a936fd5c7a9d744f6ae4c3d4326-288x288-png"},"_type":"image","_key":null},"slug":{"current":"nishan-bende"}},"slug":{"current":"configuring-thunk-action-creators-and-redux-dev-tools-with-reacts-use-reducer-hook"},"tags":[{"id":"283f2e8f-1e11-5bd2-afab-40acb7482a1c","slug":{"current":"front-end-development"},"title":"Front End Development"},{"id":"652f05c4-538b-5d58-b88d-ef1bc3eefc97","slug":{"current":"redux-thunk"},"title":"Redux Thunk "},{"id":"c35b3444-ecd0-549a-9fb5-bfc9e61cc993","slug":{"current":"app-development"},"title":"App Development"}],"referenceBlogPost":[{"mainImage":{"asset":{"id":"image-f777a578d8984e06555d1ec176069fc7c1101c20-700x393-png","fluid":{"src":"https://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png","srcSet":"https://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png?w=175&h=98&fit=crop 175w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png?w=350&h=197&fit=crop 350w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png 700w","sizes":"(max-width: 700px) 100vw, 700px"}}},"publishedAt":"2020-07-10T12:00:00.000Z","readingTime":"12 min read","author":{"name":"Prakash Donga"},"slug":{"current":"is-react-native-the-right-choice-for-startups"},"title":"Is React Native the Right Choice for Startups"},{"mainImage":{"asset":{"id":"image-987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260-png","fluid":{"src":"https://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=800&h=450&fit=crop","srcSet":"https://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=200&h=113&fit=crop 200w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=400&h=225&fit=crop 400w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=800&h=450&fit=crop 800w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=1200&h=675&fit=crop 1200w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=1600&h=900&fit=crop 1600w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png 2240w","sizes":"(max-width: 800px) 100vw, 800px"}}},"publishedAt":"2020-06-11T18:30:00.000Z","readingTime":"11 min read","author":{"name":"Prakash Donga"},"slug":{"current":"14-reasons-to-choose-react-native-for-app-development"},"title":"14 Reasons to Choose React Native for App Development"}]},"readNextBlog":[{"mainImage":{"asset":{"id":"image-f777a578d8984e06555d1ec176069fc7c1101c20-700x393-png","fluid":{"src":"https://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png","srcSet":"https://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png?w=175&h=98&fit=crop 175w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png?w=350&h=197&fit=crop 350w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/f777a578d8984e06555d1ec176069fc7c1101c20-700x393.png 700w","sizes":"(max-width: 700px) 100vw, 700px"}}},"publishedAt":"2020-07-10T12:00:00.000Z","readingTime":"12 min read","author":{"name":"Prakash Donga"},"slug":{"current":"is-react-native-the-right-choice-for-startups"},"title":"Is React Native the Right Choice for Startups"},{"mainImage":{"asset":{"id":"image-987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260-png","fluid":{"src":"https://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=800&h=450&fit=crop","srcSet":"https://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=200&h=113&fit=crop 200w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=400&h=225&fit=crop 400w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=800&h=450&fit=crop 800w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=1200&h=675&fit=crop 1200w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png?w=1600&h=900&fit=crop 1600w,\nhttps://cdn.sanity.io/images/ay6gmb6r/production/987e48290d48ddbdbca3ab2915a00d9447fff265-2240x1260.png 2240w","sizes":"(max-width: 800px) 100vw, 800px"}}},"publishedAt":"2020-06-11T18:30:00.000Z","readingTime":"11 min read","author":{"name":"Prakash Donga"},"slug":{"current":"14-reasons-to-choose-react-native-for-app-development"},"title":"14 Reasons to Choose React Native for App Development"}],"blogSLug":"configuring-thunk-action-creators-and-redux-dev-tools-with-reacts-use-reducer-hook"}},"staticQueryHashes":["1951403926","2015784780","2763451262","3649515864","3810076356","4118766420"]}